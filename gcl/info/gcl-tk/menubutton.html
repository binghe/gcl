<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Created by GNU Texinfo 5.2, http://www.gnu.org/software/texinfo/ -->
<head>
<title>GCL TK Manual: menubutton</title>

<meta name="description" content="GCL TK Manual: menubutton">
<meta name="keywords" content="GCL TK Manual: menubutton">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link href="index.html#Top" rel="start" title="Top">
<link href="wm.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Widgets.html#Widgets" rel="up" title="Widgets">
<link href="text.html#text" rel="next" title="text">
<link href="checkbutton.html#checkbutton" rel="prev" title="checkbutton">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.indentedblock {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smallindentedblock {margin-left: 3.2em; font-size: smaller}
div.smalllisp {margin-left: 3.2em}
kbd {font-style:oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: inherit; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: inherit; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nocodebreak {white-space:nowrap}
span.nolinebreak {white-space:nowrap}
span.roman {font-family:serif; font-weight:normal}
span.sansserif {font-family:sans-serif; font-weight:normal}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="en" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">
<a name="menubutton"></a>
<div class="header">
<p>
Next: <a href="text.html#text" accesskey="n" rel="next">text</a>, Previous: <a href="checkbutton.html#checkbutton" accesskey="p" rel="prev">checkbutton</a>, Up: <a href="Widgets.html#Widgets" accesskey="u" rel="up">Widgets</a> &nbsp; [<a href="wm.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>
<hr>
<a name="menubutton-1"></a>
<h3 class="section">2.8 menubutton</h3>

<p>menubutton \- Create and manipulate menubutton widgets
</p><a name="Synopsis-7"></a>
<h4 class="unnumberedsubsec">Synopsis</h4>
<p><b>menubutton</b><i> </i><i>pathName </i><span class="roman">?</span><i>options</i>?
</p><a name="Standard-Options-7"></a>
<h4 class="unnumberedsubsec">Standard Options</h4>


<div class="example">
<pre class="example">activeBackground  bitmap              font        relief        
activeForeground  borderWidth         foreground  text          
anchor            cursor              padX        textVariable  
background        disabledForeground  padY        underline     
</pre></div>


<p>See <a href="options.html#options">options</a>, for more information.
</p><a name="Arguments-for-Menubutton"></a>
<h4 class="unnumberedsubsec">Arguments for Menubutton</h4>


<dl compact="compact">
<dt><code><b>:height</b></code></dt>
<dd><p align="right">Name=<code>&quot;<b>height</b><span class="roman">&quot;</span> Class=<code>&quot;</code><b>Height</b>&quot;</code>
</p><br>

<p>Specifies a desired height for the menu button.
If a bitmap is being displayed in the menu button then the value is in
screen units (i.e. any of the forms acceptable to <b>Tk_GetPixels</b>);
for text it is in lines of text.
If this option isn&rsquo;t specified, the menu button&rsquo;s desired height is computed
from the size of the bitmap or text being displayed in it.
</p></dd>
</dl>


<dl compact="compact">
<dt><code><b>:menu</b></code></dt>
<dd><p align="right">Name=<code>&quot;<b>menu</b><span class="roman">&quot;</span> Class=<code>&quot;</code><b>MenuName</b>&quot;</code>
</p><br>

<p>Specifies the path name of the menu associated with this menubutton.
The menu must be a descendant of the menubutton in order for normal pull-down
operation to work via the mouse.
</p></dd>
</dl>


<dl compact="compact">
<dt><code><b>:state</b></code></dt>
<dd><p align="right">Name=<code>&quot;<b>state</b><span class="roman">&quot;</span> Class=<code>&quot;</code><b>State</b>&quot;</code>
</p><br>

<p>Specifies one of three states for the menu button:  <b>normal</b><span class="roman">, </span><b>active</b>,
or <b>disabled</b>.  In normal state the menu button is displayed using the
<b>foreground</b><span class="roman"> and </span><b>background</b> options.  The active state is
typically used when the pointer is over the menu button.  In active state
the menu button is displayed using the <b>activeForeground</b> and
<b>activeBackground</b> options.  Disabled state means that the menu button
is insensitive:  it doesn&rsquo;t activate and doesn&rsquo;t respond to mouse
button presses.  In this state the <b>disabledForeground</b> and
<b>background</b> options determine how the button is displayed.
</p></dd>
</dl>


<dl compact="compact">
<dt><code><b>:width</b></code></dt>
<dd><p align="right">Name=<code>&quot;<b>width</b><span class="roman">&quot;</span> Class=<code>&quot;</code><b>Width</b>&quot;</code>
</p><br>

<p>Specifies a desired width for the menu button.
If a bitmap is being displayed in the menu button then the value is in
screen units (i.e. any of the forms acceptable to <b>Tk_GetPixels</b>);
for text it is in characters.
If this option isn&rsquo;t specified, the menu button&rsquo;s desired width is computed
from the size of the bitmap or text being displayed in it.
</p></dd>
</dl>

<a name="Introduction-4"></a>
<h4 class="unnumberedsubsec">Introduction</h4>

<p>The <b>menubutton</b> command creates a new window (given by the
<i>pathName</i> argument) and makes it into a menubutton widget.
Additional
options, described above, may be specified on the command line
or in the option database
to configure aspects of the menubutton such as its colors, font,
text, and initial relief.  The <b>menubutton</b> command returns its
<i>pathName</i> argument.  At the time this command is invoked,
there must not exist a window named <i>pathName</i>, but
<i>pathName</i>&rsquo;s parent must exist.
</p>
<p>A menubutton is a widget that displays a
textual string or bitmap
and is associated with a menu widget.  In normal usage, pressing
mouse button 1 over the menubutton causes the associated menu to
be posted just underneath the menubutton.  If the mouse is moved over
the menu before releasing the mouse button, the button release
causes the underlying menu entry to be invoked.  When the button
is released, the menu is unposted.
</p>
<p>Menubuttons are typically organized into groups called menu bars
that allow scanning:
if the mouse button is pressed over one menubutton (causing it
to post its menu) and the mouse is moved over another menubutton
in the same menu bar without releasing the mouse button, then the
menu of the first menubutton is unposted and the menu of the
new menubutton is posted instead.
The <b>tk-menu-bar</b> procedure is used to set up menu bars for
scanning; see that procedure for more details.
</p>
<a name="A-Menubutton-Widget_0027s-Arguments"></a>
<h4 class="unnumberedsubsec">A Menubutton Widget&rsquo;s Arguments</h4>

<p>The <b>menubutton</b> command creates a new Tcl command whose
name is <i>pathName</i>.  This
command may be used to invoke various
operations on the widget.  It has the following general form:
</p>
<div class="example">
<pre class="example"><i>pathName option </i><span class="roman">?</span><i>arg arg ...</i>?
</pre></div>

<p><i>Option</i><span class="roman"> and the </span><i>arg</i>s
determine the exact behavior of the command.  The following
commands are possible for menubutton widgets:
</p>
<dl compact="compact">
<dt><i>pathName </i><b>:activate</b></dt>
<dd><p>Change the menu button&rsquo;s state to <b>active</b> and redisplay the menu
button using its active foreground and background colors instead of normal
colors.
The command returns an empty string.
This command is ignored if the menu button&rsquo;s state is <b>disabled</b>.
This command is obsolete and will eventually be removed;
use &ldquo;<i>pathName </i><b>:configure :state active</b>&rdquo; instead.
</p></dd>
<dt><i>pathName </i><b>:configure</b><span class="roman"> ?</span><i>option</i><span class="roman">? ?</span><i>value option value ...</i>?</dt>
<dd><p>Query or modify the configuration options of the widget.
If no <i>option</i> is specified, returns a list describing all of
the available options for <i>pathName</i><span class="roman"> (see </span><b>Tk_ConfigureInfo</b> for
information on the format of this list).  If <i>option</i> is specified
with no <i>value</i>, then the command returns a list describing the
one named option (this list will be identical to the corresponding
sublist of the value returned if no <i>option</i> is specified).  If
one or more <i>option:value</i> pairs are specified, then the command
modifies the given widget option(s) to have the given value(s);  in
this case the command returns an empty string.
<i>Option</i><span class="roman"> may have any of the values accepted by the </span><b>menubutton</b>
command.
</p></dd>
<dt><i>pathName </i><b>:deactivate</b></dt>
<dd><p>Change the menu button&rsquo;s state to <b>normal</b> and redisplay the menu
button using its normal foreground and background colors.
The command returns an empty string.
This command is ignored if the menu button&rsquo;s state is <b>disabled</b>.
This command is obsolete and will eventually be removed;
use &ldquo;<i>pathName </i><b>:configure :state normal</b>&rdquo; instead.
</p>
</dd>
</dl>
<a name="g_t_0022Default-Bindings_0022-2"></a>
<h4 class="unnumberedsubsec">&quot;Default Bindings&quot;</h4>


<p>Tk automatically creates class bindings for menu buttons that give them
the following default behavior:
</p><ul class="no-bullet">
<li> [1]
A menu button activates whenever the mouse passes over it and deactivates
whenever the mouse leaves it.
</li><li> [2]
A menu button&rsquo;s relief is changed to raised whenever mouse button 1 is
pressed over it, and the relief is restored to its original value
when button 1 is later released or the mouse is dragged into another
menu button in the same menu bar.
</li><li> [3]
When mouse button 1 is pressed over a menu button, or when the mouse
is dragged into a menu button with mouse button 1 pressed, the associated
menu is posted;  the mouse can be dragged across the menu and released
over an entry in the menu to invoke that entry.  The menu is unposted
when button 1 is released outside either the menu or the menu button.
The menu is also unposted when the mouse is dragged into another
menu button in the same menu bar.
</li><li> [4]
If mouse button 1 is pressed and released within the menu button,
then the menu stays posted and keyboard traversal is possible as
described in the manual entry for <b>tk-menu-bar</b>.
</li><li> [5]
Menubuttons may also be posted by typing characters on the keyboard.
See the manual entry for <b>tk-menu-bar</b> for full details on keyboard
menu traversal.
</li><li> [6]
If mouse button 2 is pressed over a menu button then the associated
menu is posted and also <i>torn off</i>:  it can then be dragged around on
the screen with button 2 and the menu will not automatically unpost when
entries in it are invoked.
To close a torn off menu, click mouse button 1 over the associated
menu button.
</li></ul>

<p>If the menu button&rsquo;s state is <b>disabled</b> then none of the above
actions occur:  the menu button is completely non-responsive.
</p>
<p>The behavior of menu buttons can be changed by defining new bindings for
individual widgets or by redefining the class bindings.
</p>
<a name="Keywords-7"></a>
<h4 class="unnumberedsubsec">Keywords</h4>
<p>menubutton, widget
</p><hr>
<div class="header">
<p>
Next: <a href="text.html#text" accesskey="n" rel="next">text</a>, Previous: <a href="checkbutton.html#checkbutton" accesskey="p" rel="prev">checkbutton</a>, Up: <a href="Widgets.html#Widgets" accesskey="u" rel="up">Widgets</a> &nbsp; [<a href="wm.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>]</p>
</div>



</body>
</html>
